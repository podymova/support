// leanModal v1.1 by Ray Stone - http://finelysliced.com.au
// Dual licensed under the MIT and GPL

(function($){$.fn.extend({

    leanModal:function(options){
        var defaults={
            left:'15%',
            right:'15%',
            closeButton:null
        };
        options=$.extend(defaults,options);
        return this.each(function(){
            var o=options;
            $(this).click(function(e){
                $('html').addClass('lock');
                var modal_id=$(this).attr("href");
                var content = $('.lock .modals')
                $(modal_id).show().fadeTo(200);

                var H = $(window).height();
                var W = $(window).width();
                var h = content.height();
                var w = content.width();

                 var t = (H-h)/2;
                 var tt = (W-w)/2;

                /*content.css({
                    'top': 15,
                    'margin-left': 15
                    //'right': o.right
                });     */

                $("#mask").click(function(){close_modal(modal_id)});
                $(o.closeButton).click(function(){close_modal(modal_id)});
            })
        });

        function close_modal(modal_id){
            $(modal_id).hide().fadeOut(200);
            $('html').removeClass('lock');
        }

    }

})})(jQuery);
